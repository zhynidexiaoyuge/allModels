/*!
 * Jusfoun Scaler Tool v0.1.5
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vis@jusfoun.com
 *   http://vis.jusfoun.com
 *   http://jusfoun-vis.github.io
 * 
 * Copyright (c) 2018, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=require("global")},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),l=o(r),a=n(2),u=o(a),f=n(6),s=o(f),d=function(e){var t=l.default.globalScaleInfo||u.default,n=t.scaleX,o=t.scaleY,r=t.offsetX,a=t.offsetY,f={x:void 0,y:void 0};return e instanceof MouseEvent?(e=new s.default(e),f.x=e.pageX,f.y=e.pageY,e.release()):Array.isArray(e)?(f.x=e[0],f.y=e[1]):"object"===(void 0===e?"undefined":i(e))&&(f.x=e.x,f.y=e.y),isNaN(f.x)||(f.x=(f.x-r*n)/n),isNaN(f.y)||(f.y=(f.y-a*o)/o),f};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={scale:1,scaleX:1,scaleY:1,offsetX:0,offsetY:0};Object.freeze(o),t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalPosition=t.getGlobalPosition=t.MODE_DEBUG=t.MODE_NONE=t.MODE_FULL=t.MODE_HEIGHT=t.MODE_WIDTH=t.MODE_NORMAL=t.Scaler=void 0;var i=n(4),r=o(i),l=n(1),a=o(l),u=n(8),f=o(u);t.Scaler=r.default,t.MODE_NORMAL=i.MODE_NORMAL,t.MODE_WIDTH=i.MODE_WIDTH,t.MODE_HEIGHT=i.MODE_HEIGHT,t.MODE_FULL=i.MODE_FULL,t.MODE_NONE=i.MODE_NONE,t.MODE_DEBUG=i.MODE_DEBUG,t.getGlobalPosition=a.default,t.getLocalPosition=f.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MODE_DEBUG=t.MODE_NONE=t.MODE_FULL=t.MODE_HEIGHT=t.MODE_WIDTH=t.MODE_NORMAL=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(5);t.MODE_NORMAL=0,t.MODE_WIDTH=1,t.MODE_HEIGHT=2,t.MODE_FULL=3,t.MODE_NONE=4,t.MODE_DEBUG=5;var u=function(){function e(t,n,i){o(this,e),this._originalHtmlStyle=void 0,this._originalBodyStyle=void 0,this._debugFlag=!1,this._mode=void 0,this._fullWidth=void 0,this._fullHeight=void 0;var r=this;r._mode=Number(t),r._fullWidth=Number(n),r._fullHeight=Number(i),l.default.globalScaleInfo={scale:1,scaleX:1,scaleY:1,offsetX:0,offsetY:0,computedScale:1,computedScaleX:1,computedScaleY:1};var u=new a.Timer(a.Timer.REQUEST_ANIMATION_FRAME,1);u.on("timerComplete",function(){r._scale()}),r._windowResizeHandler=function(){u.start()},r._windowDoubleClickHandler=function(e){e.shiftKey&&(r._debugFlag=!r._debugFlag,r._windowResizeHandler())}}return i(e,[{key:"_scale",value:function(){var e=this,t=document.documentElement,n=t.style;n.transform="",n.transformOrigin="",t.scrollTop=0,t.scrollLeft=0;var o=document.body,i=o.style;i.overflow="",o.scrollTop=0,o.scrollLeft=0;var r=e._mode,a=e._fullWidth,u=e._fullHeight,f=window.innerWidth,s=window.innerHeight,d=l.default.globalScaleInfo,c=f/a,_=s/u,v=f/s<=a/u?c:_;if(4===r||5===r&&e._debugFlag)d.scale=1,d.scaleX=1,d.scaleY=1,d.offsetX=0,d.offsetY=0;else if(3===r){var g=["scale(",c,",",_,")"].join("");n.transform=g,n.transformOrigin="0 0 0",d.scale=void 0,d.scaleX=c,d.scaleY=_,d.offsetX=0,d.offsetY=0}else{1===r?v=_=c:2===r?v=c=_:c=_=v;var m=(f-a*v)/2/v,y=(s-u*v)/2/v,O=["scale(",v,")"].join(""),E=["translate(",Math.round(m),"px",",",Math.round(y),"px",")"].join("");n.transform=[O,E].join(" "),n.transformOrigin="0 0",i.overflow="hidden",d.scale=v,d.scaleX=c,d.scaleY=_,d.offsetX=m,d.offsetY=y}}},{key:"manage",value:function(){var e=this,t=document.documentElement,n=t.style;e._originalHtmlStyle={fontSize:n.fontSize,transform:n.transform,transformOrigin:n.transformOrigin},n.fontSize="100px";var o=document.body,i=o.style;e._originalBodyStyle={fontSize:i.fontSize,overflow:i.overflow},i.fontSize="0.12rem",window.addEventListener("resize",e._windowResizeHandler),e._windowResizeHandler(),5===e._mode&&(window.addEventListener("dblclick",e._windowDoubleClickHandler),e._debugFlag=!1)}},{key:"unmanage",value:function(){var e=this;window.removeEventListener("resize",e._windowResizeHandler),window.removeEventListener("dblclick",e._windowDoubleClickHandler);var t=document.documentElement,n=t.style,o=e._originalHtmlStyle;n.fontSize=o.fontSize,n.transform=o.transform,n.transformOrigin=o.transformOrigin;var i=document.body,r=i.style,l=e._originalBodyStyle;r.fontSize=l.fontSize,r.overflow=l.overflow}},{key:"mode",get:function(){return this._mode},set:function(e){var t=this;t._mode=e,t._windowResizeHandler()}},{key:"fullWidth",get:function(){return this._fullWidth},set:function(e){var t=this;t._fullWidth=e,t._windowResizeHandler()}},{key:"fullHeight",get:function(){return this._fullHeight},set:function(e){var t=this;t._fullHeight=e,t._windowResizeHandler()}}]),e}();t.default=u},function(e,t){e.exports=require("@jusfoun-vis/common")},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),a=o(l),u=n(2),f=o(u),s=n(7),d=o(s),c=function(){function e(t){i(this,e),this._mouseEvent=void 0,this._pageX=void 0,this._pageY=void 0;var n=this;n._mouseEvent=t;var o=a.default.globalScaleInfo||f.default,r=o.scaleX,l=o.scaleY,u=o.offsetX,s=o.offsetY,c=t.pageX,_=t.pageY;d.default.ie&&!d.default.edge&&(c=t.pageX+u*r,_=t.pageY+s*l),n._pageX=c,n._pageY=_}return r(e,[{key:"release",value:function(){this._mouseEvent=void 0}},{key:"mouseEvent",get:function(){return this._mouseEvent}},{key:"pageX",get:function(){return this._pageX}},{key:"pageY",get:function(){return this._pageY}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r={ie:!1,ie11:!1,edge:!1};!function(){var e=i.default.navigator;if(e){var t=e.userAgent;if(t){var n=t.indexOf("MSIE");if(-1!==n){var o="unknown",l=t.indexOf(";",n);-1!==l&&(o=Number(t.substring(n+5,l)),r["ie"+o]=!0),r.ie=o}if(-1!==t.indexOf("Windows "))if(-1!==(n=t.indexOf("Edge/")))r.ie="edge",r.edge=parseInt(t.substring(n+5));else if(-1!==t.indexOf("Trident/")){n=t.indexOf("; rv:");var a=t.indexOf(")",n);if(-1!==n&&-1!==a){var u=parseInt(t.substring(n+5,a));11===u&&(r.ie=u,r.ie11=!0)}}}}}(),Object.freeze(r),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(e,t){var n=(0,i.default)(e);if(n&&t instanceof HTMLElement){var o=t.getBoundingClientRect();o.x=o.left,o.y=o.top;var r=(0,i.default)(o);n.x-=r.x,n.y-=r.y}return n};t.default=r}]));