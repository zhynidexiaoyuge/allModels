/*!
 * Jusfoun Relativism Tool v0.1.3
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vis@jusfoun.com
 *   http://vis.jusfoun.com
 *   http://jusfoun-vis.github.io
 * 
 * Copyright (c) 2018, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=0,i=function(){function e(){r(this,e),this._id=void 0,this._name="Operation";var t=this;t._id=t._name+"#"+ ++u}return o(e,[{key:"exec",value:function(e,t){var n=this;console.log("run",n._id);var r=16+1024*Math.random();setTimeout(function(){Math.random()>.5&&Math.random()>.5?t(n._id):e(n._id)},r)}}]),e}();t.default=i},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(){function e(){r(this,e),this._operations=void 0,this._operations=[]}return o(e,[{key:"add",value:function(e){if(!(e instanceof i.default))throw new Error("操作必须是Operation的实例。");this._operations.push(e)}},{key:"exec",value:function(){var e=this,t=e._operations,n=t.length;if(!(n<1)){for(var r=function(e){return function(){return new Promise(function(t,n){e.exec(t,n)})}},o=r(t[0])(),u=1;u<n;u++)!function(e){var n=r(t[e]);o=o.then(function(e){return n()}).catch(function(e){return Promise.reject(e)})}(u);return o=o.then(function(e){}).catch(function(e){return Promise.reject(e)})}}}]),e}();t.default=f},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,n(11))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(f),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._message=void 0,n._message=e,n}return u(t,e),i(t,[{key:"exec",value:function(e,t){t(this._message)}}]),t}(a.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(f),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._method=void 0,n._method=e,n}return u(t,e),i(t,[{key:"exec",value:function(e,t){(0,this._method)(e,t)}}]),t}(a.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),c=r(a),l=n(13),s=n(0),p=r(s),d=function(e){function t(e,n){o(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._cmd=void 0,r._exit=void 0;var i=r;return i._cmd=e,i._exit=n||{},r}return i(t,e),f(t,[{key:"exec",value:function(e,t){var n=this,r=n._cmd,o=n._exit;(0,l.exec)(r,function(t,n,u){o.cmd=r,t?(o.code=t.code,o.signal=t.signal,o.killed=t.killed,o.error=t.Error):o.code=0;var i=c.default.process;i.stdout.write(n),i.stderr.write(u),e()})}}]),t}(p.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),c=r(a),l=n(1),s=r(l),p=n(0),d=r(p),y=function(e){function t(e,n){o(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._path=void 0,r._pattern=void 0;var i=r;return i._path=e,n&&(i._pattern=n),r}return i(t,e),f(t,[{key:"exec",value:function(e,t){var n=this,r=n._path,o=n._pattern;if(!o)return t("Pattern can NOT be empty.");(0,c.default)(r,{nodir:!0},function(n,r){if(n)return t(n);var u=0,i=r.length;if(i<1)return e();var f=function(e){if(o.test(e))return void s.default.unlink(e,function(t){console.log("Remove:",e),a()});a()},a=function(){++u>=i&&e()};r.forEach(function(e){return f(e)})})}}]),t}(d.default);t.default=y},function(e,t){e.exports=require("glob")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),s=n(8),p=r(s),d=n(0),y=r(d),b=/([^a-z_\d.])(\/static)(\/[\S]+?\.(?:css|js|png|jpg|jpeg|json|html|htm))?/gi,_=/(\w+?\.exports\=)(?:\w+?\.\w+?\+)(")(static)/gi,h=/(\w+?\.src\=)(?:\w+?\.\w+?\+)(")(static)/gi,v=/([^.])(\/static)(\/[\S]+?\.(?:[\w]+?))?/gi,w=[{test:/\.(js|html)$/i,exec:function(e){return e.replace(b,"$1.$2$3").replace(_,"$1$2./$3").replace(h,"$1$2./$3")}},{test:/\.css$/i,exec:function(e){return e.replace(v,"$1..$3")}}],O=function(e){function t(e,n){o(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._path=void 0,r._patterns=w;var i=r;return i._path=e,n&&(i._patterns=n),r}return i(t,e),a(t,[{key:"exec",value:function(e,t){var n=this,r=n._path,o=n._patterns;(0,p.default)(r,{nodir:!0},function(n,r){if(n)return t(n);var u=0,i=r.length;if(i<1)return e();var a=function(e){for(var t=0;t<o.length;t++){var n=function(t){var n=o[t];if(n.test.test(e))return console.log("Relate:",e),{v:function(e,t){l.default.readFile(t,"utf8",function(e,r){l.default.writeFile(t,n.exec(r),function(){c()})})}(0,e)}}(t);if("object"===(void 0===n?"undefined":f(n)))return n.v}c()},c=function(){++u>=i&&e()};r.forEach(function(e){return a(e)})})}}]),t}(y.default);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.relate=void 0;var o=n(3),u=r(o),i=n(12),f=r(i),a=n(17),c=r(a),l=n(18),s=r(l),p={react:f.default,vue:c.default,angular:s.default},d=function(e){e=e||{};var t=(e.type+"").toLowerCase(),n=p[t];if(!n)throw new Error("Unsupported type: "+t);if(!(e.dist+""))throw new Error("Dist folder can NOT be empty.");new n(e).exec().then(function(e){}).catch(function(e){u.default.process.exit(1)})};t.relate=d},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),a=r(f),c=n(4),l=r(c),s=n(5),p=r(s),d=n(6),y=r(d),b=n(7),_=r(b),h=n(9),v=r(h),w=n(14),O=r(w),j=n(16),m=r(j),g=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n;e=e||{};var i=e.beforeScript;if("function"==typeof i&&r.add(new p.default(i)),1==e.build){var f=e.src+"";if(!f)return r.add(new l.default("Source path can NOT be empty.")),u(n);var a={src:f};r.add(new O.default(a));var c={};r.add(new y.default("npm run build",c)),r.add(new m.default(a)),r.add(new p.default(function(e,t){if(c.code>0)return t();e()}))}r.add(new v.default(e.dist+"/**")),1==e.removeSourceMap&&r.add(new _.default(e.dist+"/**",/\.map$/i));var s=e.afterScript;return"function"==typeof s&&r.add(new p.default(s)),n}return i(t,e),t}(a.default);t.default=g},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),c=r(a),l=n(15),s=r(l),p=n(0),d=r(p),y=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._config=void 0,n._config=e,n}return i(t,e),f(t,[{key:"exec",value:function(e,t){var n=this,r=n._config,o=r.src,u=[s.default.join(o,"index.js"),s.default.join(o,"App.js")],i=0,f=u.length;if(f<1)return e();var a=/BrowserRouter/g,l=r.entryFileInfoMap=new Map,p=function(e){c.default.readFile(e,"utf8",function(t,n){if(t)return console.warn("Can NOT read file: "+e),d();if(a.test(n)){var r=c.default.statSync(e),o=l.get(e);o.replaced=!0,o.stat=r,o.data=n,c.default.writeFile(e,n.replace(a,"HashRouter"),function(){d()})}else d()})},d=function(){++i>=f&&e()};u.forEach(function(e){l.set(e,{path:e,replaced:!1,data:void 0,stat:void 0}),p(e)})}}]),t}(d.default);t.default=y},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),c=r(a),l=n(0),s=r(l),p=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._config=void 0,n._config=e,n}return i(t,e),f(t,[{key:"exec",value:function(e,t){var n=this,r=n._config,o=r.entryFileInfoMap,u=0,i=o.size;if(i<1)return e();var f=function(e){if(!e.replaced)return a();var t=e.path,n=e.stat;c.default.writeFile(t,e.data,function(e){e||c.default.utimes(t,n.atime,n.mtime,function(){}),a()})},a=function(){++u>=i&&e()};o.forEach(function(e){f(e)})}}]),t}(s.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),a=r(f),c=n(6),l=r(c),s=n(5),p=r(s),d=n(7),y=r(d),b=n(9),_=r(b),h=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n;e=e||{};var i=e.beforeScript;if("function"==typeof i&&r.add(new p.default(i)),1==e.build){var f={};r.add(new l.default("npm run build",f)),r.add(new p.default(function(e,t){if(f.code>0)return t();e()}))}r.add(new _.default(e.dist+"/**")),1==e.removeSourceMap&&r.add(new y.default(e.dist+"/**",/\.map$/i));var a=e.afterScript;return"function"==typeof a&&r.add(new p.default(a)),n}return i(t,e),t}(a.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),a=r(f),c=n(4),l=r(c),s=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.add(new l.default("501 Not Implemented")),e}return i(t,e),t}(a.default);t.default=s}]));